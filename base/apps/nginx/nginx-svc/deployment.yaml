## Autogenerated by Git management UI
###############################################################################################
## Deployment for POD: user-svc
###############################################################################################
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-svc
  labels:
    app-group: nginx-svc
    module-group: nginx
    product-group: gitops
spec:
  replicas: 1
  selector:
    matchLabels:
      app-group: nginx-svc
  ## POD Update strategy
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 0
  template:
    metadata:
      labels:
        app-group: nginx-svc
        module-group: nginx
        product-group: gitops
      annotations:
        instrumentation.opentelemetry.io/inject-java: "false"
    spec:
      dnsConfig:
        options:
          - name: single-request-reopen
      ######################### DNS Configuration ends here #########################################
      securityContext:
        runAsUser: 1001
        runAsGroup: 1001
        fsGroup: 1001
        fsGroupChangePolicy: "OnRootMismatch"
      ####### Container Configurations##
      containers:
        ########################################################################################
        ################ Container Configuration starts for  user-svc  #####
        - name: nginx-svc
          image: nginx-svc
          imagePullPolicy: IfNotPresent

          ## Ports for nginx-svc
          ports:
            - name: http
              #This port number should match the targetPort in service.yaml
              containerPort: 8080

          ## Resources for nginx-svc
          resources:
            requests:
              memory: 512Mi
              cpu: 500m
            limits:
              memory: 1024Mi
              cpu: 1000m

          